(function(){this.HomeController=["$scope","$http","projects","tasks","infrastructures","breadcrumb",function(n,t,i,r,u,f){var o,s,e;return n.projects=i!=null?i.data.items:void 0,n.infrastructures=u!=null?u.data.items:void 0,o=n.tasks=r.data,e=new Date,s=function(n,t){var i;return i=new Date(t),i.getFullYear()===n.getFullYear()&&i.getMonth()===n.getMonth()&&i.getDate()===n.getDate()},n.getAppointments=function(n){var t;return t=o.filter(function(t){return s(n,t.dueDate)}),(t.length>0?"appointment":"")+" "+(e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()&&e.getDate()===n.getDate()?"today":"")+" "+(n<e?"overdue":"")},n.showDay=function(t){return n.tasks=o.filter(function(n){return s(t,n.dueDate)})},n.monthChange=function(i,r,u){return n.$apply(function(){return t.get("api/task",{params:{year:i,month:r+1}}).then(function(t){return o=n.tasks=t.data,u()})})},n.isDue=function(n){return new Date(n.dueDate)<Date.now()},n.$parent.changePassword=function(){var i;if(i=n.change,i.newPassword!==i.confirmPassword){i.message="New passwords does not match";return}return t.post("api/password",{oldPassword:i.oldPassword,newPassword:i.newPassword}).then(function(t){return t.data!=="null"?n.change.message=t.data:n.change.visible=!1})},f([])}]}).call(this)