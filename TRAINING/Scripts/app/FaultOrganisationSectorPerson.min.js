(function(){this.FaultOrganisationSectorPersonController=["$scope","$http","notification","faultOrganisationSectorPerson","provinces","sectors","breadcrumb",function(n,t,i,r,u,f,e){var o;return n.faultOrganisationSectorPerson=r!=null?r.data[0]:void 0,n.provinces=u.data,n.sectors=f.data,n.isUpdate=r!==null,o=function(){return n.faultOrganisationSectorPerson.id?t.put:t.post},n.save=function(){if(n.faultOrganisationSectorPersonForm.$valid)return o()("api/faultOrganisationSectorPerson/",n.faultOrganisationSectorPerson).then(function(t){return n.faultOrganisationSectorPerson.id=t.data.id,i("Successfully saved")})},n.$watch("faultOrganisationSectorPerson.provinceCode",function(i){if(i&&n.faultOrganisationSectorPerson.provinceCode)return t.get("lookup/districtsByProvince",{params:{provinceId:n.faultOrganisationSectorPerson.provinceCode}}).then(function(t){return n.districts=t.data})}),n.$watch("faultOrganisationSectorPerson.districtCode",function(i){if(i&&n.faultOrganisationSectorPerson.districtCode)return t.get("lookup/organisationsWithProviceAndDistrictByDistrict",{params:{districtId:n.faultOrganisationSectorPerson.districtCode}}).then(function(t){return n.organisations=t.data})}),n.$watch("faultOrganisationSectorPerson.sectorProgrammeId",function(i){var r,u;if(i&&((r=n.faultOrganisationSectorPerson)!=null?r.sectorProgrammeId:void 0)&&((u=n.faultOrganisationSectorPerson)!=null?u.organisationId:void 0))return t.get("lookup/peopleByOrganisationsAndSector",{params:{organisationId:n.faultOrganisationSectorPerson.organisationId,sectorProgrammeId:n.faultOrganisationSectorPerson.sectorProgrammeId}}).then(function(t){return n.people=t.data})}),n.$watch("faultOrganisationSectorPerson.organisationId",function(i){var r,u;if(i&&((r=n.faultOrganisationSectorPerson)!=null?r.sectorProgrammeId:void 0)&&((u=n.faultOrganisationSectorPerson)!=null?u.organisationId:void 0))return t.get("lookup/peopleByOrganisationsAndSector",{params:{organisationId:n.faultOrganisationSectorPerson.organisationId,sectorProgrammeId:n.faultOrganisationSectorPerson.sectorProgrammeId}}).then(function(t){return n.people=t.data})}),e([{description:"Fault Responsible People",url:"/administration/faultOrganisationSectorPersonList"},{description:"Create"}])}]}).call(this)