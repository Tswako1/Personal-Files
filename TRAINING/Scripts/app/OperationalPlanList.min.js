(function(){this.planFilters={};this.OperationalPlanListController=["$scope","$http","operationalPlan","organisations","financialYears","breadcrumb",function(n,t,i,r,u,f){var e,o;return n.operationalPlans=i.data,n.organisations=r.data,n.financialYears=u.data,n.page=1,n.pages=function(){var n,t,r;for(r=[],o=n=1,t=Math.ceil(i.data.count/10);1<=t?n<=t:n>=t;o=1<=t?++n:--n)r.push(o);return r}(),n.filters=planFilters,e=function(i){var r;return n.serverFilter=n.filter,r={},angular.copy(n.filters,r),t.get("api/operationalPlan/",{params:angular.extend(r,{filter:n.filter||"",page:i||1,sort:n.field,desc:n.desc})}).then(function(t){return n.page=i||1,n.pages=function(){var n,i,r;for(r=[],o=n=1,i=Math.max(1,Math.ceil(t.data.count/10));1<=i?n<=i:n>=i;o=1<=i?++n:--n)r.push(o);return r}(),n.operationalPlans=t.data})},n.sort=function(t){return n.field===t?n.desc=!n.desc:(n.desc=!1,n.field=t),e()},n.search=e,n.clearSearch=function(){return n.filter=null,e()},n.$watch("filters",function(n){if(n)return e()},!0),n.gotoPage=function(t){if(!(t<1)&&!(t>n.pages.length))return n.page=t,e(t)},f([{description:"Municipal Operational Plans"}])}]}).call(this)