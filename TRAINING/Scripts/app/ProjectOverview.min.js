(function(){this.ProjectOverviewController=["$scope","$http","$routeParams","project","financials","breadcrumb","activities","risks","issues","siteVisits","indicators",function(n,t,i,r,u,f,e,o,s,h,c){var v,y,a,l,p;return n.projectId=i.id,n.project=r.data[0],n.financials=u.data[0],n.risks=o.data.risks,n.issues=s.data.issues,n.siteVisits=h.data,n.indicators=c.data,n.autoproject=(r!=null?r.data[0]:void 0)?"PR-"+(r!=null?r.data[0].sectorCode:void 0)+"-"+(r!=null?r.data[0].autoNumber:void 0):void 0,l=e.data[0],p=[{name:"Establish Steering Comittee",start:new Date(l.activityEstablishSteeringCommitteeStartDate),end:new Date(l.activityEstablishSteeringCommitteeEndDate),completed:new Date(l.activityEstablishSteeringCommitteeCompleteDate)},{name:"Design",start:new Date(l.activityDesignStartDate),end:new Date(l.activityDesignEndDate),completed:new Date(l.activityDesignCompleteDate)},{name:"Tender",start:new Date(l.activityTenderStartDate),end:new Date(l.activityTenderEndDate),completed:new Date(l.activityTenderCompleteDate)},{name:"Construction",start:new Date(l.activityConstructionStartDate),end:new Date(l.activityConstructionEndDate),completed:new Date(l.activityConstructionCompleteDate)},{name:"Completion",start:new Date(l.activityCompletionStartDate),end:new Date(l.activityCompletionEndDate),completed:new Date(l.activityCompletionCompleteDate)}],a=p.reduce(function(n,t){return n.start<t.start?{start:n.start}:{start:t.start}}).start,y=p.reduce(function(n,t){return n.end>t.end?{end:n.end}:{end:t.end}}).end,v=y-a,n.activities=p.map(function(n){return{name:n.name,start:(n.start-a)/v*100,len:(n.end-n.start)/v*100,done:(n.completed-a)/v*100}}),n.activities.min=new Date(a).getFullYear()+"/"+(new Date(a).getMonth()+1),n.activities.max=new Date(y).getFullYear()+"/"+(new Date(y).getMonth()+1),f([{description:r.data[0].name}])}]}).call(this)