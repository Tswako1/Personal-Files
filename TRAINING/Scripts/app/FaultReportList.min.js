(function(){this.FaultReportListController=["$scope","$http","faultReports","faultReportStatus","organisations","sectorProgrammes","breadcrumb","$timeout",function(n,t,i,r,u,f,e,o){var s,c,h;return n.faultReports=i.data,n.page=1,n.faultReportStatus=r.data,n.organisations=u.data,n.sectorProgrammes=f.data,s=function(i){var r;return n.serverFilter=n.filter,r={},angular.copy(n.filters,r),t.get("api/faultReportInternal",{params:angular.extend(r,{filter:n.filter||"",page:i||1,sort:n.field,desc:n.desc})}).then(function(t){var r;return n.page=i||1,n.pages=function(){var n,i,u;for(u=[],r=n=1,i=Math.max(1,Math.ceil(t.data.count/10));1<=i?n<=i:n>=i;r=1<=i?++n:--n)u.push(r);return u}(),n.faultReports=t.data})},n.search=function(){return s()},n.gotoPage=function(t){if(!(t<1)&&!(t>n.pages.length))return n.page=t,s(t)},n.filters={status:null},n.$watch("filters",function(n){if(n)return s()},!0),n.$on("fault",function(){return n.$apply(function(){return s(n.page)})}),h=null,c=function(){return s(n.page),h=o(c,6e4)},h=o(c,6e4),n.$on("$destroy",function(){return h.cancel()}),e([{description:"Incident Reporting"}])}]}).call(this)