(function(){this.ProjectIndicatorsController=["$scope","$http","$routeParams","notification","indicators","project","breadcrumb",function(n,t,i,r,u,f,e){return n.indicators=u.data,n.project=f.data,e([{description:f.data.name,url:"/projectRegistration/"+f.data.id},{description:"Indicators"}])}];this.ProjectIndicatorsCreateController=["$scope","$http","$routeParams","notification","indicators","project","breadcrumb",function(n,t,i,r,u,f,e){var o,s;return n.indicators=u.data,n.project=f.data,n.save=function(){return t.post("api/ProjectIndicators",{projectId:f.data.id,indicatorId:n.selected.id,start:n.selected.start,end:n.selected.end}).then(function(){return r("Successfully saved"),n.saved=!0})},s=Date.parse(f.data.startDate),o=Date.parse(f.data.endDate),n.$watch("selected.id",function(){if(n.selected)return n.selected.start||(n.selected.start=f.data.startDate),n.selected.end?void 0:n.selected.end=f.data.endDate}),n.$watch("selected.start",function(t){var i,u,r;if(i=Date.parse(t),r=!t||i>=s-72e5&&i<=o,n.siteVisitScheduleForm.start.$setValidity("min",r),n.selected&&n.selected.end)return u=Date.parse(n.selected.end),n.siteVisitScheduleForm.start.$setValidity("min",r&&u>=i)}),n.$watch("selected.end",function(t){var i,u,r;if(i=Date.parse(t),r=!t||i>=s+72e5&&i<=o,n.siteVisitScheduleForm.end.$setValidity("min",r),n.selected&&n.selected.start)return u=Date.parse(n.selected.start),n.siteVisitScheduleForm.end.$setValidity("min",r&&i>=u)}),e([{description:f.data.name,url:"/projectRegistration/"+f.data.id},{description:"Indicators",url:"/projectRegistration/"+f.data.id+"/indicators"},{description:"Create"}])}];this.ProjectIndicatorValuesController=["$scope","$http","$routeParams","notification","indicator","project","breadcrumb",function(n,t,i,r,u,f,e){return n.project=f.data,n.values=u.data.values.groupBy(function(n){return n.financialYear}),n.save=function(){return t.put("api/ProjectIndicators",{indicatorId:i.indicatorId,values:u.data}).then(function(){return r("Successfully saved")})},n.isInFuture=function(n,t){var i,r;return r=new Date,i=t<7?new Date(n-1,t+5,1):new Date(n,t-6,1),i.setMonth(i.getMonth()+1),i>=r},e([{description:f.data.name,url:"/projectRegistration/"+f.data.id},{description:"Indicators",url:"/projectRegistration/"+f.data.id+"/indicators"},{description:u.data.description}])}]}).call(this)