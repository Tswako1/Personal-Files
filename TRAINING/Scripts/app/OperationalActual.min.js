(function(){this.OperationalActualsController=["$scope","$http","$routeParams","$location","operation","notification","documentTypes","operationalPlan","operationalActuals","operationalActual","organisations","financialYears","financialPeriods","operationPlanDescription","breadcrumb",function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){var p,w;return n.operationalActual=(h!=null?h.data:void 0)||{operationalPlanTargetId:i.targetId,organisationId:o.data.organisationId,financialYearId:o.data.financialYearId},n.operationalPlan=o.data,n.organisations=c.data,n.financialYears=l.data,n.financialPeriods=a.data,n.documentTypes=e.data,n.operationalActuals=s.data[0],n.operationalActual.mopTargetId=i.targetId,n.operationalActual.organisationId=o.data.organisationId,n.operationalActual.misaFinancialYearId=o.data.misaFinancialYearId,n.new_ops_actual=((w=n.operationalActual)!=null?w.id:void 0)?!0:!1,p=function(){return n.operationalActual.id?t.put:t.post},n.getDocumentCount=function(t){var i;return i=n.operationalActual.projectDocuments.filter(function(n){return n.documentType===t}),i.length?i[0].count:0},n.saveOperationalActual=function(){if(n.operationalActualForm.$valid)return p()("api/operationalActual/",n.operationalActual).then(function(t){return n.operationalActual.id=t.data.id,f("Successfully saved")})},y([{description:v.data.name,url:"/operationalPlan/"+i.targetId+"/1"},{description:"Actuals",url:"/operationalPlan/"+i.targetId+"/actuals"}])}]}).call(this)