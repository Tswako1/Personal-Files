(function(){this.projectFilters={};this.ProjectListController=["$scope","$http","$modal","projects","organisations","projectStatus","sectorProgrammes","fundingSources","breadcrumb","notification","deleteProject",function(n,t,i,r,u,f,e,o,s,h,c){var l,a;return n.deleteProject={value:c},n.projects=r.data.items,n.organisations=u.data,n.projectStatus=f.data,n.sectorProgrammes=e.data,n.fundingSources=o.data,n.page=1,n.pages=function(){var n,t,i;for(i=[],a=n=1,t=Math.ceil(r.data.count/10);1<=t?n<=t:n>=t;a=1<=t?++n:--n)i.push(a);return i}(),n.filters=projectFilters,n.deleteProjectRegistration=function(r,u){var f;return f=i.open({templateUrl:"content/views/DeleteConfirmation.html",controller:["$scope","$modalInstance",function(n,t){return n.modal=t}]}),f.result.then(function(i){if(i)return t["delete"]("api/project/"+r).then(function(){return n.projects.splice(u,1),h("Successfully Deleted")})})},l=function(i){var r;return n.serverFilter=n.filter,r={},angular.copy(n.filters,r),t.get("api/project/",{params:angular.extend(r,{filter:n.filter||"",page:i||1,sort:n.field,desc:n.desc})}).then(function(t){return n.page=i||1,n.pages=function(){var n,i,r;for(r=[],a=n=1,i=Math.max(1,Math.ceil(t.data.count/10));1<=i?n<=i:n>=i;a=1<=i?++n:--n)r.push(a);return r}(),n.projects=t.data.items})},n.sort=function(t){return n.field===t?n.desc=!n.desc:(n.desc=!1,n.field=t),l()},n.search=l,n.clearSearch=function(){return n.filter=null,l()},n.$watch("filters",function(n){if(n)return l()},!0),n.gotoPage=function(t){if(!(t<1)&&!(t>n.pages.length))return n.page=t,l(t)},c?s([{description:"Delete Projects"}]):s([{description:"Project List"}])}]}).call(this)